extends ../layouts/dashboard.pug

block config
    - var bodyClass = 'sb-nav-fixed'
    - var pageTitle = 'Survey List';
    - var index = false;
    - var sidenavStyle = 'sb-sidenav-dark'
    
prepend css
    | Load Simple DataTables Stylesheet
    link(href='https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css', rel='stylesheet')

block content
    .container-fluid.px-4
        include includes/page-header.pug
    
        .card.mb-4
            .card-header
                i.fas.fa-table.me-1
                | Survey List
            .card-body
                include includes/survey-data.pug
        .row(id='chartArea', style="display:none")
            .col-lg-6
                .card.mb-4
                    .card-header
                        i.fas.fa-chart-bar.me-1
                        | Response Count
                    .card-body
                        canvas#myBarChart(width='100%', height='50')
                    .card-footer.small.text-muted Updated yesterday at 11:59 PM
            .col-lg-6
                .card.mb-4
                    .card-header
                        i.fas.fa-chart-pie.me-1
                        | Response Percentage
                    .card-body
                        canvas#myPieChart(width='100%', height='50')
                    .card-footer.small.text-muted Updated yesterday at 11:59 PM

        a.btn.btn-primary(href='create-survey.html' ) Create Survey

        //- | <div id="piechart" style="display:none"></div>
        //- | <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        //- | <script type="text/javascript">
        //- | // Load google charts
        //- | google.charts.load('current', {'packages':['corechart']});
        //- | google.charts.setOnLoadCallback(drawChart);

        //- | // Draw the chart and set the chart values
        //- | function drawChart() {
        //- | var data = google.visualization.arrayToDataTable([
        //- | ['Task', 'Hours per Day'],
        //- | ['Lansdowne', 8],
        //- | ['Garden City', 2],
        //- | ['Richmond Station', 4],
        //- | ['Colonel Sherman Armoury', 2],
        //- | ]);

        //- | // Optional; add a title and set the width and height of the chart
        //- | var options = {'title':'Response', 'width':800, 'height':600};

        //- | // Display the chart inside the <div> element with id="piechart"
        //- | var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        //- | chart.draw(data, options);
        //- | }
        //- | </script>



append scripts
    | Load Simple DataTables Scripts
    script(src='https://cdn.jsdelivr.net/npm/simple-datatables@latest', crossorigin='anonymous')
    script(src='js/datatables-simple-demo.js')

    script(src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js', crossorigin='anonymous')
    script(src='assets/demo/chart-result.js')

    