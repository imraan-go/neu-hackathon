extends ../layouts/dashboard.pug

block config
    - var bodyClass = 'sb-nav-fixed'
    - var pageTitle = 'Food Hub';
    - var index = true;
    - var sidenavStyle = 'sb-sidenav-dark'
    
prepend css
    //- Load Simple DataTables Stylesheet
    link(href='https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css', rel='stylesheet')
    link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css")

block content
    .container-fluid.px-4
        include includes/page-header.pug
        | <iframe loading="lazy" src="https://www.google.com/maps/d/u/0/embed?mid=1C7Fj50jHSHt-iSgjlsmj5B5ErLzwvUTR&amp;ll=50.97663977230089%2C-121.99965585884814&amp;z=6" width="640" height="480" data-gtm-yt-inspected-580403_27="true"></iframe>

        .card.mb-4
            .card-header
                i.fas.fa-table.me-1
                | Food Hub
            .card-body
                include includes/foodhub-data.pug

        //- .card-footer.text-center.py-3
        //-     a.btn.btn-primary(href='survey-list.html' onclick='alert("Order have been sent to backend. Survey # is 123453");') Send SMS

        //- Form Submission
        | <button id="floatingButton"  class="float" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#noteModal"><i class="fa fa-plus my-float fs-1"></i></button>
        
        | <div class="modal fade" id="noteModal" tabindex="-1" aria-labelledby="noteLabel" aria-hidden="true">
        |   <div class="modal-dialog">
        |     <div class="modal-content">
        |       <div class="modal-header">
        |         <h5 class="modal-title" id="noteLabel">New Suggestion</h5>
        |         <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        |       </div>
        |       <div class="modal-body">
        |         <form id="noteForm" novalidate>
        |           <input type="hidden" id="refIdField"/>
        |           <div class="mb-3">
        |             <label for="Subject" class="col-form-label">Number of Food Hub:</label>
        |             <input type="text" class="form-control" id="foodhub" placeholder="Please enter the number of new food hubs required" required pattern="\d.*" value="3"/>
        |             <div class="invalid-feedback">
        |               Invalid Number
        |             </div>
        |           </div>
        |           <div class="mb-3">
        |               <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
        |                   <option selected>Please select city</option>
        |                   <option value="1">Abbotsford</option>
        |                   <option value="1">Armstrong</option>
        |                   <option value="1">Burnaby</option>
        |                   <option value="1">Campbell River</option>
        |                   <option value="1">Castlegar</option>
        |                   <option value="1">Chilliwack</option>
        |                   <option value="1">Colwood</option>
        |                   <option value="1">Coquitlam</option>
        |                   <option value="1">Courtenay</option>
        |                   <option value="1">Cranbrook</option>
        |                   <option value="1">Dawson Creek</option>
        |                   <option value="1">Delta</option>
        |                   <option value="1">Duncan</option>
        |                   <option value="1">Enderby</option>
        |                   <option value="1">Fernie</option>
        |                   <option value="1">Fort St. John</option>
        |                   <option value="1">Grand Forks</option>
        |                   <option value="1">Greenwood</option>
        |                   <option value="1">Kamloops</option>
        |                   <option value="1">Kelowna</option>
        |                   <option value="1">Kimberley</option>
        |                   <option value="1">Langford</option>
        |                   <option value="1">Langley</option>
        |                   <option value="1">Maple Ridge</option>
        |                   <option value="1">Merritt</option>
        |                   <option value="1">Mission</option>
        |                   <option value="1">Nanaimo</option>
        |                   <option value="1">Nelson</option>
        |                   <option value="1">New Westminster</option>
        |                   <option value="1">North Vancouver</option>
        |                   <option value="1">Parksville</option>
        |                   <option value="1">Penticton</option>
        |                   <option value="1">Pitt Meadows</option>
        |                   <option value="1">Port Alberni</option>
        |                   <option value="1">Port Coquitlam</option>
        |                   <option value="1">Port Moody</option>
        |                   <option value="1">Powell River</option>
        |                   <option value="1">Prince George</option>
        |                   <option value="1">Prince Rupert</option>
        |                   <option value="1">Quesnel</option>
        |                   <option value="1">Revelstoke</option>
        |                   <option value="1">Richmond</option>
        |                   <option value="1">Rossland</option>
        |                   <option value="1">Salmon Arm</option>
        |                   <option value="1">Surrey</option>
        |                   <option value="1">Terrace</option>
        |                   <option value="1">Trail</option>
        |                   <option value="1">Vancouver</option>
        |                   <option value="1">Vernon</option>
        |                   <option value="1">Victoria</option>
        |                   <option value="1">West Kelowna</option>
        |                   <option value="1">White Rock</option>
        |                   <option value="1">Williams Lake</option>
        |               </select>
        |           </div>
        |         </form>
        |       </div>
        |       <div class="modal-footer">
        |         <button type="button" class="btn btn-secondary" id="closeButton" data-bs-dismiss="modal">Close</button>
        |         <button type="button" class="btn btn-primary" id="submitButton" onClick="simulation()">Suggest</button>
        |       </div>
        |        <button id="loadingButton" class="btn btn-primary" type="button" disabled style="display:none">
        |        <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
        |        Loading...
        |        </button>
        |     </div>
        |   </div>
        | </div>


append scripts
    | Load Simple DataTables Scripts
    script(src='https://cdn.jsdelivr.net/npm/simple-datatables@latest', crossorigin='anonymous')
    script(src='js/datatables-simple-demo.js')
    script(src='js/foodhub-simulation.js')
    